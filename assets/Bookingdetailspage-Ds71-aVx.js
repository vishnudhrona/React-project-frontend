import{r as l,a as j,u,i as N,j as e,L as b,T as k,b as f,D,c as v}from"./index-DmOYdX87.js";const w=()=>{const[s,x]=l.useState(""),[r,p]=l.useState(1),[o]=l.useState(5),h=j(),i=u(t=>t.doctorData.doctorId);s&&s.sort((t,a)=>{const c=new Date(t.bookingDate.split("/").reverse().join("/")),y=new Date(a.bookingDate.split("/").reverse().join("/"));return c-y});const d=r*o,m=d-o,g=s.slice(m,d),n=t=>p(t);return l.useEffect(()=>{const a={Authorization:`Bearer ${localStorage.getItem("doctorToken")}`};N.get(`/doctors/fetchbookingdetails?doctorId=${i}`,{headers:a}).then(c=>{c.data.status?h("/doctors/doctorsignup"):x(c.data.response)})},[i]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center border border-gray-300",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 ",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-200 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"No."}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Patient Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Number"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Booking Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Booking Time"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),s&&g.map((t,a)=>e.jsx(e.Fragment,{children:e.jsx("tbody",{children:e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-900 dark:border-gray-700",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:a+1}),e.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:[t.patientfirstname," ",t.lastname]}),e.jsx("td",{className:"px-6 py-4",children:t.patientemail}),e.jsx("td",{className:"px-6 py-4",children:t.patientnum}),e.jsx("td",{className:"px-6 py-4",children:t.bookingDate}),e.jsx("td",{className:"px-6 py-4",children:t.slotTime}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(b,{to:`/doctors/videocall?bookinguseremail=${t.patientemail}&patientId=${t.patientId}&bookingId=${t._id}`,className:"font-medium text-red-600 dark:text-blue-500 hover:underline",children:"Video call"})})]},a)})}))]})}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"mr-2 bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded",children:e.jsx(k,{})}),Array.from({length:Math.ceil(s.length/o)}).map((t,a)=>e.jsx("button",{onClick:()=>n(a+1),className:`mx-1 px-3 py-1 rounded ${r===a+1?"bg-customColor text-white":"bg-gray-200 hover:bg-gray-300"}`,children:a+1},a)),e.jsx("button",{onClick:()=>n(r+1),disabled:r===Math.ceil(s.length/o),className:"ml-2 bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded",children:e.jsx(f,{})})]})]})},P=()=>e.jsxs(e.Fragment,{children:[e.jsx(D,{}),e.jsx("div",{className:"py-20 px-10",children:e.jsx(w,{})}),e.jsx(v,{})]});export{P as default};
