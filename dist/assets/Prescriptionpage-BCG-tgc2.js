import{r as i,u as j,i as u,j as e,N as f,P as b,F as N}from"./index-pO73pjcX.js";const y=()=>{const[n,d]=i.useState([]),[c,x]=i.useState(1),[a,v]=i.useState(6),o=j(s=>s.patientData.patientId);i.useEffect(()=>{u.get(`/fetchprescription?patientId=${o}`).then(s=>{d(s.data.response)}).catch(s=>{console.error("Error fetching prescription:",s)})},[o]);const m=(s,r)=>{const t=document.createElement("a");t.href=`data:application/pdf;base64,${s}`,t.download=r,document.body.appendChild(t),t.click(),document.body.removeChild(t)},l=c*a,p=l-a,h=n.slice(p,l),g=s=>x(s);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:h.map((s,r)=>e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[s.doctorfirstname," ",s.doctorlastname]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.department})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:["Date: ",s.bookingDate]}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Time: ",s.bookingtime]})]}),e.jsx("div",{className:"px-4 py-3 border-t border-gray-200 flex justify-end",children:e.jsx("button",{onClick:()=>m(s.pdfBase64,`prescription_${r}.pdf`),className:"bg-buttonColor hover:bg-green-600 text-white py-2 px-4 rounded-md text-sm",children:"Download Prescription"})})]},r))}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("nav",{className:"flex","aria-label":"Pagination",children:n.length>a&&e.jsx("ul",{className:"flex",children:[...Array(Math.ceil(n.length/a)).keys()].map(s=>e.jsx("li",{className:"cursor-pointer",children:e.jsx("button",{className:`${c===s+1?"bg-customColor text-white":"text-blue-500 hover:text-blue-800"} px-3 py-1 rounded-md`,onClick:()=>g(s+1),children:s+1})},s))})})})]})},w=()=>e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsxs("div",{className:"flex",children:[e.jsx(b,{}),e.jsx("div",{className:"py-5 pl-40",children:e.jsx(y,{})})]}),e.jsx(N,{})]});export{w as default};
